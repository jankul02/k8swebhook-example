# File autogenerated by ./scripts/gen-certs.sh
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: k8s-webhook-example-webhook
  labels:
    app: k8s-webhook-example-webhook
    kind: mutator
webhooks:
  - name: all-mark-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-webhook-example
        namespace: k8s-webhook-example
        path: /wh/mutating/allmark
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVVRENDQXJpZ0F3SUJBZ0lRY0ozUURCNkhOSi9vWHM5cHIrMUtQekFOQmdrcWhraUc5dzBCQVFzRkFEQjEKTVI0d0hBWURWUVFLRXhWdGEyTmxjblFnWkdWMlpXeHZjRzFsYm5RZ1EwRXhKVEFqQmdOVkJBc01IR3BoYm5Wegpla0JxWVc1MWMzb3RjM1J5YVhnZ0tFcGhiblZ6ZWlreExEQXFCZ05WQkFNTUkyMXJZMlZ5ZENCcVlXNTFjM3BBCmFtRnVkWE42TFhOMGNtbDRJQ2hLWVc1MWMzb3BNQjRYRFRJeE1Ea3hPVEV4TXpJME5sb1hEVEl6TVRJeE9URXkKTXpJME5sb3dVREVuTUNVR0ExVUVDaE1lYld0alpYSjBJR1JsZG1Wc2IzQnRaVzUwSUdObGNuUnBabWxqWVhSbApNU1V3SXdZRFZRUUxEQnhxWVc1MWMzcEFhbUZ1ZFhONkxYTjBjbWw0SUNoS1lXNTFjM29wTUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBME1oMVVKVXBQNjNkb2xtNVltaGZsRGZuRUFEVGtkYi8KTy9mRTh6NU5YWndxSk9ORkh1VGtTZFc3djMzY2Z5S2V1R25jSytqRGFTRldsTFlaV0JMMlkwQnhmWjVtVEh2dgpBS05RUmZpbFM4NThFS0h0RnBJMi9rTFI0RG55cUVpdWcyNElTTndKcVQrOUdKejltdGljZTFtNHhIR0FOQWc0Cm1BaDc2eDZOaGx0MW9lM0VqQzh4ZE9vMmlEZ2dqaENMSE9VekQ5OEZ3YThFTFA4TVJvYzFjcFFLTjFzcUtJWUQKRk5CZXpORHh0N1lUTmFpenZnK0w2UnowT2lXUllmZFpRdG9aWGZrVEJsYkpUSlhnQ1lIRUg4V1FzSkRRZy94VApvb2gxRUJnZUxQekJTWGdMb01Od1FNaWk0cTZtTm8rbkZCaVdTMzJ3Y05KQW9yL2dnamNJQ3dJREFRQUJvNEdBCk1INHdEZ1lEVlIwUEFRSC9CQVFEQWdXZ01CTUdBMVVkSlFRTU1Bb0dDQ3NHQVFVRkJ3TUJNQjhHQTFVZEl3UVkKTUJhQUZPQUtnaS94dkUxSktuaFJrWDk0VGR2Rjg1L09NRFlHQTFVZEVRUXZNQzJDSzJzNGN5MTNaV0pvYjI5cgpMV1Y0WVcxd2JHVXVhemh6TFhkbFltaHZiMnN0WlhoaGJYQnNaUzV6ZG1Nd0RRWUpLb1pJaHZjTkFRRUxCUUFECmdnR0JBTE0vams5eXhRU1NSd1BnbVNSNkFyYjZuUkhVMUppNkwwRVA0eE81em5aSmVJYzhTbzl2ejlSVGdXdHMKKzZBVjhydFF1dFhGeUJZbVdHeVRnQVZtcmJFRTd1UWxWZzg2Y2FHWmI1dHNid250V094ZXEyeDZwQWJ3L05UegpZUzlYNkswOHNUUXdzazhQZVh4aDlOek9Ed29ZOXBLYUh2VXZ4Tys2YnJRYmY5ZzIyQXRvMkRaR1JPRzhYRTFICk8rU2ROZW04V3NxSmVOc3E1RzJQdndTWUVYeVhnZ052VG91eXhzanh4YlJtdkxvS0x0eFMrM0lVOENaZlBNeGgKaVorNDdDM291ZmVWdlJaY05tdzRDbHU0emR3UW05bkx0T3E2L3plWFhZZlZmc3Q4bjNmTzE1RHdiR1V3ZDdkZQp2MGFHNzZxR0QrSm9uUW8yWGhETVQxRm9hL0tyUjV1cmxyUzN3ZC9Ed21LZmJURDRRTDh1MXdqYk5TSFJUTDhBClBOR2xqZ3lKNE1PYkFUNHFySWZ5aVBlbENHM3FEY1YzNklEbjdCS2hDeERQVWU0UElhcXB1R254WjZDT1I0T2IKSmdnYlZBQlZib3NkdGI2VC8xNG9vcFR1R21jRlMyNWx3WEFyMzQwZmJMWWxQSEZENWRuSngyN2xDY2dRd0xEegpZang4S2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["deployments", "daemonsets", "cronjobs", "jobs", "statefulsets", "pods"]

  - name: service-monitor-safer.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-webhook-example
        namespace: k8s-webhook-example
        path: /wh/mutating/safeservicemonitor
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVVRENDQXJpZ0F3SUJBZ0lRY0ozUURCNkhOSi9vWHM5cHIrMUtQekFOQmdrcWhraUc5dzBCQVFzRkFEQjEKTVI0d0hBWURWUVFLRXhWdGEyTmxjblFnWkdWMlpXeHZjRzFsYm5RZ1EwRXhKVEFqQmdOVkJBc01IR3BoYm5Wegpla0JxWVc1MWMzb3RjM1J5YVhnZ0tFcGhiblZ6ZWlreExEQXFCZ05WQkFNTUkyMXJZMlZ5ZENCcVlXNTFjM3BBCmFtRnVkWE42TFhOMGNtbDRJQ2hLWVc1MWMzb3BNQjRYRFRJeE1Ea3hPVEV4TXpJME5sb1hEVEl6TVRJeE9URXkKTXpJME5sb3dVREVuTUNVR0ExVUVDaE1lYld0alpYSjBJR1JsZG1Wc2IzQnRaVzUwSUdObGNuUnBabWxqWVhSbApNU1V3SXdZRFZRUUxEQnhxWVc1MWMzcEFhbUZ1ZFhONkxYTjBjbWw0SUNoS1lXNTFjM29wTUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBME1oMVVKVXBQNjNkb2xtNVltaGZsRGZuRUFEVGtkYi8KTy9mRTh6NU5YWndxSk9ORkh1VGtTZFc3djMzY2Z5S2V1R25jSytqRGFTRldsTFlaV0JMMlkwQnhmWjVtVEh2dgpBS05RUmZpbFM4NThFS0h0RnBJMi9rTFI0RG55cUVpdWcyNElTTndKcVQrOUdKejltdGljZTFtNHhIR0FOQWc0Cm1BaDc2eDZOaGx0MW9lM0VqQzh4ZE9vMmlEZ2dqaENMSE9VekQ5OEZ3YThFTFA4TVJvYzFjcFFLTjFzcUtJWUQKRk5CZXpORHh0N1lUTmFpenZnK0w2UnowT2lXUllmZFpRdG9aWGZrVEJsYkpUSlhnQ1lIRUg4V1FzSkRRZy94VApvb2gxRUJnZUxQekJTWGdMb01Od1FNaWk0cTZtTm8rbkZCaVdTMzJ3Y05KQW9yL2dnamNJQ3dJREFRQUJvNEdBCk1INHdEZ1lEVlIwUEFRSC9CQVFEQWdXZ01CTUdBMVVkSlFRTU1Bb0dDQ3NHQVFVRkJ3TUJNQjhHQTFVZEl3UVkKTUJhQUZPQUtnaS94dkUxSktuaFJrWDk0VGR2Rjg1L09NRFlHQTFVZEVRUXZNQzJDSzJzNGN5MTNaV0pvYjI5cgpMV1Y0WVcxd2JHVXVhemh6TFhkbFltaHZiMnN0WlhoaGJYQnNaUzV6ZG1Nd0RRWUpLb1pJaHZjTkFRRUxCUUFECmdnR0JBTE0vams5eXhRU1NSd1BnbVNSNkFyYjZuUkhVMUppNkwwRVA0eE81em5aSmVJYzhTbzl2ejlSVGdXdHMKKzZBVjhydFF1dFhGeUJZbVdHeVRnQVZtcmJFRTd1UWxWZzg2Y2FHWmI1dHNid250V094ZXEyeDZwQWJ3L05UegpZUzlYNkswOHNUUXdzazhQZVh4aDlOek9Ed29ZOXBLYUh2VXZ4Tys2YnJRYmY5ZzIyQXRvMkRaR1JPRzhYRTFICk8rU2ROZW04V3NxSmVOc3E1RzJQdndTWUVYeVhnZ052VG91eXhzanh4YlJtdkxvS0x0eFMrM0lVOENaZlBNeGgKaVorNDdDM291ZmVWdlJaY05tdzRDbHU0emR3UW05bkx0T3E2L3plWFhZZlZmc3Q4bjNmTzE1RHdiR1V3ZDdkZQp2MGFHNzZxR0QrSm9uUW8yWGhETVQxRm9hL0tyUjV1cmxyUzN3ZC9Ed21LZmJURDRRTDh1MXdqYk5TSFJUTDhBClBOR2xqZ3lKNE1PYkFUNHFySWZ5aVBlbENHM3FEY1YzNklEbjdCS2hDeERQVWU0UElhcXB1R254WjZDT1I0T2IKSmdnYlZBQlZib3NkdGI2VC8xNG9vcFR1R21jRlMyNWx3WEFyMzQwZmJMWWxQSEZENWRuSngyN2xDY2dRd0xEegpZang4S2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["monitoring.coreos.com"]
        apiVersions: ["v1"]
        resources: ["servicemonitors"]

---
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: k8s-webhook-example-webhook
  labels:
    app: k8s-webhook-example-webhook
    kind: validator
webhooks:
  - name: ingress-validation-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-webhook-example
        namespace: k8s-webhook-example
        path: /wh/validating/ingress
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVVRENDQXJpZ0F3SUJBZ0lRY0ozUURCNkhOSi9vWHM5cHIrMUtQekFOQmdrcWhraUc5dzBCQVFzRkFEQjEKTVI0d0hBWURWUVFLRXhWdGEyTmxjblFnWkdWMlpXeHZjRzFsYm5RZ1EwRXhKVEFqQmdOVkJBc01IR3BoYm5Wegpla0JxWVc1MWMzb3RjM1J5YVhnZ0tFcGhiblZ6ZWlreExEQXFCZ05WQkFNTUkyMXJZMlZ5ZENCcVlXNTFjM3BBCmFtRnVkWE42TFhOMGNtbDRJQ2hLWVc1MWMzb3BNQjRYRFRJeE1Ea3hPVEV4TXpJME5sb1hEVEl6TVRJeE9URXkKTXpJME5sb3dVREVuTUNVR0ExVUVDaE1lYld0alpYSjBJR1JsZG1Wc2IzQnRaVzUwSUdObGNuUnBabWxqWVhSbApNU1V3SXdZRFZRUUxEQnhxWVc1MWMzcEFhbUZ1ZFhONkxYTjBjbWw0SUNoS1lXNTFjM29wTUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBME1oMVVKVXBQNjNkb2xtNVltaGZsRGZuRUFEVGtkYi8KTy9mRTh6NU5YWndxSk9ORkh1VGtTZFc3djMzY2Z5S2V1R25jSytqRGFTRldsTFlaV0JMMlkwQnhmWjVtVEh2dgpBS05RUmZpbFM4NThFS0h0RnBJMi9rTFI0RG55cUVpdWcyNElTTndKcVQrOUdKejltdGljZTFtNHhIR0FOQWc0Cm1BaDc2eDZOaGx0MW9lM0VqQzh4ZE9vMmlEZ2dqaENMSE9VekQ5OEZ3YThFTFA4TVJvYzFjcFFLTjFzcUtJWUQKRk5CZXpORHh0N1lUTmFpenZnK0w2UnowT2lXUllmZFpRdG9aWGZrVEJsYkpUSlhnQ1lIRUg4V1FzSkRRZy94VApvb2gxRUJnZUxQekJTWGdMb01Od1FNaWk0cTZtTm8rbkZCaVdTMzJ3Y05KQW9yL2dnamNJQ3dJREFRQUJvNEdBCk1INHdEZ1lEVlIwUEFRSC9CQVFEQWdXZ01CTUdBMVVkSlFRTU1Bb0dDQ3NHQVFVRkJ3TUJNQjhHQTFVZEl3UVkKTUJhQUZPQUtnaS94dkUxSktuaFJrWDk0VGR2Rjg1L09NRFlHQTFVZEVRUXZNQzJDSzJzNGN5MTNaV0pvYjI5cgpMV1Y0WVcxd2JHVXVhemh6TFhkbFltaHZiMnN0WlhoaGJYQnNaUzV6ZG1Nd0RRWUpLb1pJaHZjTkFRRUxCUUFECmdnR0JBTE0vams5eXhRU1NSd1BnbVNSNkFyYjZuUkhVMUppNkwwRVA0eE81em5aSmVJYzhTbzl2ejlSVGdXdHMKKzZBVjhydFF1dFhGeUJZbVdHeVRnQVZtcmJFRTd1UWxWZzg2Y2FHWmI1dHNid250V094ZXEyeDZwQWJ3L05UegpZUzlYNkswOHNUUXdzazhQZVh4aDlOek9Ed29ZOXBLYUh2VXZ4Tys2YnJRYmY5ZzIyQXRvMkRaR1JPRzhYRTFICk8rU2ROZW04V3NxSmVOc3E1RzJQdndTWUVYeVhnZ052VG91eXhzanh4YlJtdkxvS0x0eFMrM0lVOENaZlBNeGgKaVorNDdDM291ZmVWdlJaY05tdzRDbHU0emR3UW05bkx0T3E2L3plWFhZZlZmc3Q4bjNmTzE1RHdiR1V3ZDdkZQp2MGFHNzZxR0QrSm9uUW8yWGhETVQxRm9hL0tyUjV1cmxyUzN3ZC9Ed21LZmJURDRRTDh1MXdqYk5TSFJUTDhBClBOR2xqZ3lKNE1PYkFUNHFySWZ5aVBlbENHM3FEY1YzNklEbjdCS2hDeERQVWU0UElhcXB1R254WjZDT1I0T2IKSmdnYlZBQlZib3NkdGI2VC8xNG9vcFR1R21jRlMyNWx3WEFyMzQwZmJMWWxQSEZENWRuSngyN2xDY2dRd0xEegpZang4S2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["ingresses"]